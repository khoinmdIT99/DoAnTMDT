@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery antiforgery
@{
    var token = antiforgery.GetAndStoreTokens(Context).RequestToken;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic page needs
      ============================================ -->
    <title>@ViewData["Title"]</title>
    <meta charset="utf-8">
    <meta name="keywords" content="html5 template, best html5 template, best html template, html5 basic template, multipurpose html5 template, multipurpose html template, creative html templates, creative html5 templates" />
    <meta name="description" content="SuperMarket is a powerful Multi-purpose HTML5 Template with clean and user friendly design. It is definite a great starter for any eCommerce web project." />
    <meta name="author" content="Magentech">
    <meta name="robots" content="index, follow" />

    <!-- Mobile specific metas
      ============================================ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Favicon
      ============================================ -->
    <link rel="shortcut icon" type="image/png" href="~/ico/favicon-16x16.png" />
    <!-- Libs CSS
      ============================================ -->
    <link rel="stylesheet" href="~/css/bootstrap/css/bootstrap.min.css">
    <link href="~/css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="~/js/datetimepicker/bootstrap-datetimepicker.min.css" rel="stylesheet">
    <link href="~/js/owl-carousel/owl.carousel.css" rel="stylesheet">
    <link href="~/css/themecss/lib.css" rel="stylesheet">
    <link href="~/js/jquery-ui/jquery-ui.min.css" rel="stylesheet">
    <link href="~/js/minicolors/miniColors.css" rel="stylesheet">
    <!-- Theme CSS
      ============================================ -->
    <link href="~/css/themecss/so_sociallogin.css" rel="stylesheet">
    <link href="~/css/themecss/so_searchpro.css" rel="stylesheet">
    <link href="~/css/themecss/so_megamenu.css" rel="stylesheet">
    <link href="~/css/themecss/so-categories.css" rel="stylesheet">
    <link href="~/css/themecss/so-listing-tabs.css" rel="stylesheet">
    <link href="~/css/themecss/so-category-slider.css" rel="stylesheet">
    <link href="~/css/themecss/so-newletter-popup.css" rel="stylesheet">
    <link href="~/css/footer/footer1.css" rel="stylesheet">
    <link href="~/css/header/header1.css" rel="stylesheet">
    <link id="color_scheme" href="~/css/theme.css" rel="stylesheet">
    <link href="~/css/responsive.css" rel="stylesheet">
    <link href="~/css/quickview/quickview.css" rel="stylesheet">
    @RenderSection("Styles", required: false)
    <!-- Google web fonts
      ============================================ -->
    <link href="https://fonts.googleapis.com/css?family=Lobster&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,600,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">
    <style type="text/css">
        body {
            font-family: 'Poppins', sans-serif;
        }
    </style>
</head>
<body class="common-here res layout-1">

    <div id="wrapper" class="wrapper-fluid banner-effect-3">
        <!-- HEADER CONTAINER -->
        <header class="typeheader-1">
            <!-- HEADER TOP -->
            <div class="header-top">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-6 col-md-6 col-sm-9">
                            <div class="header-user">
                                <ul>
                                    <li>
                                        <a asp-action="Index" asp-controller="Account" asp-area="" class="smooth" title="">
                                            <i class="fa fa-user" aria-hidden="true"></i>
                                            Tài khoản
                                        </a>
                                    </li>
                                    <li>
                                        <a asp-action="ShoppingCart" asp-controller="Cart" asp-area="" class="smooth" title="">
                                            <i class="fa fa-check-square-o" aria-hidden="true"></i>
                                            Giỏ hàng
                                        </a>
                                    </li>
                                    <li>
                                        <a asp-action="HomeOrder" asp-controller="Order" asp-area="" class="smooth" title="">
                                            <i class="fa fa-check-square-o" aria-hidden="true"></i>
                                            Thanh toán
                                        </a>
                                    </li>
                                    @await Component.InvokeAsync("Account")
                                    @*@if (Context.User.Identity.IsAuthenticated)
                                        {
                                            <li>
                                                <a asp-action="Logout" asp-controller="Login" class="smooth" title="">
                                                    <i class="fa fa-check-square-o" aria-hidden="true"></i>
                                                    Đăng xuất
                                                </a>
                                            </li>
                                        }
                                        else
                                        {
                                            <li>
                                                <a asp-action="Index" asp-controller="Login" class="smooth" title="">
                                                    <i class="fa fa-check-square-o" aria-hidden="true"></i>
                                                    Đăng nhập
                                                </a>
                                            </li>
                                        }*@
                                    @if (Context.User.Identity.IsAuthenticated && User.Identity.Name == "admin")
                                    {
                        <li>
                            <a asp-area="Administrator" asp-controller="Default" asp-action="Index" class="smooth" title="">
                                <i class="fa fa-check-square-o" aria-hidden="true"></i>
                                Quản trị
                            </a>
                        </li>
}
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-3">
                            <div class="header-hotline">
                                <div class="item">
                                    <p>
                                        <span class="hidden-md">Call our customer service at:</span> <a href="tel:096-999-8386" class="smooth" title=""><span>096-999-8386</span></a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- //HEADER TOP -->
            <!-- HEADER CENTER -->
            <div class="header-center">
                <div class="container">
                    <div class="logo">
                        <a href="index.html" class="" title="">
                            <img src="~/images/catalog/demo/logo/logo.png" alt="">
                        </a>
                    </div>
                    <div class="search-form">
                        <button type="button" class="smooth search-form-btn"><i class="fa fa-search"></i></button>
                        <form action="#" method="post">
                            <div class="icon">
                                <i class="fa fa-search" aria-hidden="true"></i>
                            </div>
                            <input type="text" name="keyword" placeholder="Enter your keyword...">
                            <button type="submit">Search</button>
                        </form>
                    </div>
                    <div class="shipping">
                        <img src="~/images/catalog/demo/header/shipping-bg.png" alt="">
                        <div class="shipping-info">
                            <h6 class="shipping-title">Everyday Free Shipping</h6>
                            <p class="shipping-desc">& No Sales Tax</p>
                        </div>
                    </div>
                    <div class="cart">
                        <a asp-action="ShoppingCart" asp-controller="Cart" class="smooth cart-box dropdown-toggle" title="" data-toggle="dropdown">
                            <img src="~/images/catalog/demo/header/cart.png" class="cart-image" alt="">
                            <p class="quantity">0 item(s) - $0.00</p>
                            <p class="cart-title">MY CART</p>
                        </a>
                        <ul class="dropdown-menu shopping-cart">
                            <li class="shopping-cart-title clearfix">
                                <label>Your Product</label>
                                <label>Price</label>
                            </li>
                            @await Component.InvokeAsync("CartInLayout")
                        </ul>
                    </div>
                </div>
            </div>
            <!-- //HEADER CENTER -->
            <!-- HEADER BOTTOM -->
            <div class="header-bottom">
                <div class="container">
                    <div class="header-bottom-left">
                        <div class="header-menu">
                            <div class="megamenu-style-dev megamenu-dev">
                                <div class="responsive">
                                    <nav class="navbar-default">
                                        <div class="container-megamenu-horizontal">
                                            <div class="nav-bar-header">
                                                <button type="button" id="show-megamenu" data-toggle="collapse" class="navbar-toggle smooth">
                                                    <i class="fa fa-bars" aria-hidden="true"></i>
                                                </button>
                                            </div>
                                            <div class="megamenu-wrapper">
                                                <span id="remove-megamenu"><i class="fa fa-times" aria-hidden="true"></i></span>
                                                <div class="megamenu-pattern">
                                                    <div class="container1">
                                                        <ul class="megamenu clearfix" data-transition="fade" data-animationtime="500">
                                                            <li class="full-width menu-home">
                                                                <a asp-action="Index" asp-controller="Home" class="smooth cleafix" title="">
                                                                    <i class="fa fa-home"></i>
                                                                </a>
                                                            </li>
                                                            <li class="full-width menu-dinning with-sub-menu hover">
                                                                <p class="close-menu"></p>
                                                                <a href="#" class="smooth cleafix" title="">
                                                                    BLOG
                                                                    <b class="caret"></b>
                                                                </a>
                                                                <div class="sub-menu">
                                                                    <div class="content">
                                                                        <div class="row">
                                                                            <div class="col-sm-12">
                                                                                <div class="html">
                                                                                    <div class="row">

                                                                                        <div class="col-md-3">
                                                                                            <div class="column">
                                                                                                <div>
                                                                                                    <ul class="row-list">
                                                                                                        @await Component.InvokeAsync("BlogCategory")

                                                                                                    </ul>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>

                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </li>

                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="header-bottom-right">
                        <ul>
                            <li>
                                <a href="#" class="smooth">
                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="smooth">
                                    <i class="fa fa-wifi" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="smooth">
                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="smooth">
                                    <i class="fa fa-google-plus" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="smooth">
                                    <i class="fa fa-podcast" aria-hidden="true"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- //HEADER BOTTOM -->
        </header>
        <!-- //HEADER CONTAINER -->

        <div class="breadcrumbs">
            <div class="container">
                <h1 class="category-name" style="color:black">@ViewData["Name"]</h1>
                <ul class="breadcrumb">
                    <li>
                        <a href="#" class="smooth" style="color:black">@ViewData["Controller"] ></a>
                    </li>
                    <li>
                        <a href="#" class="smooth" style="color:black">@ViewData["Action"]</a>
                    </li>

                </ul>
            </div>
        </div>

        @RenderBody()
        <!-- FOOTER -->
        <footer class="typefooter-1">
            <!-- NEWLETTER -->
            <div class="newletter">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-6 col-md-6 col-sm-12 newletter-left">
                            <h4 class="new-letter-title">NEED HELP? CALL OUR AWARD-WINNING </h4>
                            <p>SUPPORT TEAM 24/7 AT <a href="tel:(844)555-8386">(844) 555-8386</a></p>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-12 newletter-right">
                            <form action="#" method="post" class="send-letter form-inline">
                                <div class="form-group form-box">
                                    <input type="text" name="email" placeholder="Enter your email address" class="form-control">
                                    <button type="submit" class="form-control">SUBSCRIBE</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <!-- //NEWLETTER -->
            <div class="footer-box">
                <!-- FOOTER MIDDLE -->
                <div class="footer-middle">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-6">
                                <div class="footer-middle-box">
                                    <h3 class="footer-title">our service</h3>
                                    <ul class="footer-list">
                                        <li>
                                            <a href="#" class="smooth">Delivery Information</a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth">Returns</a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth">Terms & Conditions</a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth">Shipping & Refund</a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth">Specials</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-6">
                                <div class="footer-middle-box">
                                    <h3 class="footer-title">Extras</h3>
                                    <ul class="footer-list">
                                        <li>
                                            <a href="#" class="smooth">Contact Us @Context.Session.GetString("userName")</a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth">return</a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth">special</a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth">brands</a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth">gift voucher</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-6">
                                <div class="footer-middle-box">
                                    <h3 class="footer-title">my account</h3>
                                    <ul class="footer-list">
                                        <li>
                                            <a href="#" class="smooth">my order</a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth">My credit slips</a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth">My addresses</a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth">My personal info</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-6">
                                <div class="footer-middle-box footer-middle-right">
                                    <h3 class="footer-title">contact us</h3>
                                    <ul class="contact-list">
                                        <li>
                                            <i class="fa fa-map-marker" aria-hidden="true"></i>Megnor Comp Pvt Limited, Trade Centre, Udhana Darwaja
                                        </li>
                                        <li>
                                            <i class="fa fa-mobile" aria-hidden="true"></i><a href="tel:(91)-2613023333">(91)-261 3023333</a>
                                        </li>
                                        <li>
                                            <i class="fa fa-envelope" aria-hidden="true"></i><a href="mailto:demo@harvest.com">demo@harvest.com</a>
                                        </li>
                                    </ul>
                                    <div class="payment">
                                        <img src="~/images/catalog/demo/footer/paymen.png" class="img-responsive" alt="">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- //FOOTER MIDDLE -->
                <!-- FOOTER BOTTOM -->
                <div class="footer-bottom">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <div class="footer-bottom-left">
                                    <h6 class="footer-bottom-title">
                                        Download Our App
                                    </h6>
                                    <a href="#" class="d-inline-block">
                                        <img src="~/images/catalog/demo/footer/down-app.png" class="img-responsive" alt="">
                                    </a>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <div class="footer-bottom-right">
                                    <h6 class="footer-bottom-title">
                                        Follow Us
                                    </h6>
                                    <ul class="footer-social">
                                        <li>
                                            <a href="#" class="smooth" title="">
                                                <i class="fa fa-facebook" aria-hidden="true"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth" title="">
                                                <i class="fa fa-twitter" aria-hidden="true"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth" title="">
                                                <i class="fa fa-wifi" aria-hidden="true"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth" title="">
                                                <i class="fa fa-google-plus" aria-hidden="true"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="smooth" title="">
                                                <i class="fa fa-pinterest" aria-hidden="true"></i>
                                            </a>
                                        </li>

                                    </ul>
                                </div>
                            </div>
                            <div class="col-lg-12 col-sm-12 col-xs-12">
                                <div class="copyright text-center">
                                    Furnicom HTML © 2019 Demo Store. All Rights Reserved. Designed by <a href="https://www.smartaddons.com/" target="_blank" class="smooth">SmartAddons.com</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- //FOOTER BOTTOM -->
            </div>
        </footer>
        <!-- //FOOTER -->
        <div class="back-to-top">
            <i class="fa fa-angle-up" aria-hidden="true"></i>
        </div>
    </div>



@{
    var regex = "/^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/";
}
    <!-- End Color Scheme
      ============================================ -->
    <!-- Include Libs & Plugins
    ============================================ -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="~/js/jquery-2.2.4.min.js"></script>
    <script type="text/javascript" src="~/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="~/js/themejs/so_megamenu.js"></script>
    <script type="text/javascript" src="~/js/owl-carousel/owl.carousel.js"></script>
    <script type="text/javascript" src="~/js/slick-slider/slick.js"></script>
    <script type="text/javascript" src="~/js/themejs/libs.js"></script>
    <script type="text/javascript" src="~/js/unveil/jquery.unveil.js"></script>
    <script type="text/javascript" src="~/js/countdown/jquery.countdown.min.js"></script>
    <script type="text/javascript" src="~/js/dcjqaccordion/jquery.dcjqaccordion.2.8.min.js"></script>
    <script type="text/javascript" src="~/js/datetimepicker/moment.js"></script>
    <script type="text/javascript" src="~/js/datetimepicker/bootstrap-datetimepicker.min.js"></script>
    <script type="text/javascript" src="~/js/jquery-ui/jquery-ui.min.js"></script>
    <script type="text/javascript" src="~/js/modernizr/modernizr-2.6.2.min.js"></script>
    <script type="text/javascript" src="~/js/minicolors/jquery.miniColors.min.js"></script>
    <script type="text/javascript" src="~/js/jquery.nav.js"></script>
    <script type="text/javascript" src="~/js/quickview/jquery.magnific-popup.min.js"></script>
    <!-- Theme files
      ============================================ -->
    <script type="text/javascript" src="~/js/themejs/application.js"></script>
    <script type="text/javascript" src="~/js/themejs/homepage.js"></script>
    <script type="text/javascript" src="~/js/themejs/cd1.js"></script>
    <script type="text/javascript" src="~/js/themejs/addtocart.js"></script>
    <script type="text/javascript" src="~/js/themejs/nouislider.js"></script>
    <script type="text/javascript" src="~/js/themejs/script.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>



    <script type="text/javascript">
    function sendPostRequest(url, postData, callback) {
        $.ajax(url, {
            type: "POST",
            dataType: "text",
            success: callback,
            error: function (xhr, ajaxOptions, thrownError) {
                //alert('eerroorr');
            }
        });
    }

    function isEmail(email) {
        var rx = new RegExp(@regex);
        return rx.test(email);
    }
    function ValidateEmail(email) {
        var expr = /^([\w-\.]+)@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        if (!expr.test(email)) {
            return false;
        }
        return true;
    }
    function compareLargeStrings(a,b){
        if (a.length !== b.length) {
            return false;
        }
        return a.localeCompare(b) === 0;
    }

    $('#crBtn').click(function (e) {
        var name = $('#crName').val();
        var email = $('#crEmail').val();
        var password = $('#crPassword').val();
        var repassword = $('#crRePassword').val();
        alert(email);
        var data = {};
        data.fullName = name;
        data.email = email;
        data.password = password;

        if (name === '' || password === ''|| !compareLargeStrings(password.trim(), repassword.trim())) {
            e.preventDefault();
            alert('Kiểm tra lại dữ liệu nhập vào');
            if (!ValidateEmail(email)) {
                e.preventDefault();
                alert('Vui lòng nhập lại email');
            }
        }
        else {
            e.preventDefault();
            $.ajax({
                type: 'Post',
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(data),
                url: '@Url.Action("AddUser", "Auth")',
                success: function (data) {
                    if (data.includes("thành công")) {
                        alert(data);
                        $('#closeModalBtn').click();
                        location.href = '@Url.Content("~/Home/Index")';
                    }
                    else
                    {
                        e.preventDefault();
                        alert(data.Message);
                    }
                },
                error: function () {
                    alert('Data sending error ...');
                }
            });

        }
    });

    $('#loginBtn').click(function (e) {
        var email = $('#loginEmail').val();
        var password = $('#loginPassword').val();
        var user = {
            Email: email,
            Password: password
        }

        e.preventDefault();
        $.ajax({
            type: 'Post',
            traditional: true,
            async: false,
            cache: false,
            url: '/Auth/Login/' + JSON.stringify(user),
            success: function (result) {
                if (result.includes("thành công")) {
                    alert(result);
                    $('#closeModalBtn').click();
                    location.href = '@Url.Content("~/Home/Index")';
                }
                else
                {
                    alert(result);
                }
            },
            error: function (xhr) {
                console.log(xhr.responseText);
                alert('Data sending error ...');
            }
        });

    });

        $('#logoutBtn').click(function (e) {
            e.preventDefault();
            $.ajax({
                type: 'GET',
                url: '/Auth/Logout',
                success: function (result) {
                    alert(result);
                    location.reload();
                }
            });
        });


    </script>
    @RenderSection("Scripts", required: false)
</body>
</html>